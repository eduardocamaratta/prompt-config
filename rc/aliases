# For bash this file is expected at ~/.bash_aliases and for zsh at ~/.zsh_aliases

# Ls aliases
alias ll='ls -alF'
alias la='ls -A'
alias l='ls -lah'

# Apply workaround for clear command if ghostty is installed
if command -v ghostty &>/dev/null; then
    alias c='printf "\e[H\e[22J"' # Clears screen but not scrollback
else
    alias c='clear -x'
fi

# CD that also works with a number argument, that makes it go N directories up in the hierarchy
function cdx() {
    if [[ $1 =~ ^[0-9]+$ ]]; then
        cd $(printf "%0.s../" $(seq 1 $1));
    else
        cd $1;
    fi
}

# Git
run_git_command_if_git_repo() { if git status > /dev/null 2>&1; then git "$@"; else l; fi }
alias gd='run_git_command_if_git_repo diff'
alias gb='run_git_command_if_git_repo branch'
alias gc='run_git_command_if_git_repo checkout'
alias gp='run_git_command_if_git_repo pull'
alias grpo='run_git_command_if_git_repo remote prune origin'
alias s='run_git_command_if_git_repo status'

if command -v __git_complete &>/dev/null; then
    __git_complete gd git_diff
    __git_complete gb git_branch
    __git_complete gc git_checkout
    __git_complete gp git_pull
fi

# Folders
alias dev='cd $HOME/dev'
alias downloads='cd $HOME/Downloads'
alias desktop='cd $HOME/Desktop'
alias documents='cd $HOME/Documents'

# Applications
if uname -a | grep -i microsoft > /dev/null 2>&1; then
    alias brave='/mnt/c/Program\ Files/BraveSoftware/Brave-Browser/Application/brave.exe'
elif uname -a | grep -i darwin > /dev/null 2>&1; then
    alias brave='/Applications/Brave\ Browser.app/Contents/MacOS/Brave\ Browser'
# TODO: alias for linux
fi