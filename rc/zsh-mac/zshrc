# Prevent commands started with a space from being saved to history, ignore contiguous duplicates and certain commands
setopt HIST_IGNORE_SPACE;
setopt HIST_IGNORE_DUPS;
export HISTORY_IGNORE="c|l|s|ls";

# Use an empty string instead of % for the EOL mark
export PROMPT_EOL_MARK='';

# Git completion
# ZSH does git completion out of the box, but it needs to be enabled
autoload -Uz compinit && compinit;

# Aliases
if [ -f $HOME/.zsh_aliases ]; then
    source $HOME/.zsh_aliases;
fi

# Visual Studio Code
export PATH="$PATH:/Applications/Visual Studio Code.app/Contents/Resources/app/bin";

# Starship Configuration for ZSH
if command -V starship &>/dev/null; then
    eval "$(starship init zsh)";
fi

# Mint
if [ -d $HOME/.mint/bin ]; then
    export PATH="$PATH:$HOME/.mint/bin";
fi

# Mise
if [ -f $HOME/.local/bin/mise ]; then
    eval "$($HOME/.local/bin/mise activate zsh)";
fi

# Platform-specific/private configuration
if [ -f $HOME/.zsh/platform-specific-config ]; then
    source $HOME/.zsh/platform-specific-config;
fi

# Ruby versions are ideally managed by Mise